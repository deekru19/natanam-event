"use strict";(self.webpackChunkdance_event_app=self.webpackChunkdance_event_app||[]).push([[429],{429:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var l=s(43),r=s(203),a=s(638),n=s(951),o=s(579);const i=e=>{let{selectedSlots:t,onSlotSelection:s,onNext:i,onBack:c,performanceType:d}=e;const[m,u]=(0,l.useState)({}),[x,b]=(0,l.useState)(!0);(0,l.useEffect)(()=>{const e=(0,a.bh)();(0,r.xv)(e);const t=(0,r.LI)(e,e=>{const t=(0,a.Rw)(e);u(t),b(!1)});return()=>t()},[]);return x?(0,o.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Select Time Slots"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Click on available slots to select them. You can select multiple continuous slots."})]})}),(()=>{const e=(0,a.bQ)();if(!e)return null;const t=e=>{switch(d){case"solo":return e.solo;case"duet":return e.duet;case"group":return e.group;default:return 0}};return(0,o.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-2 mb-3",children:(0,o.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-1 sm:gap-2",children:[(0,o.jsxs)("span",{className:"text-xs font-medium text-gray-700 mr-2",children:[(()=>{switch(d){case"solo":return"Solo";case"duet":return"Duet";case"group":return"Group";default:return"Performance"}})(),":"]}),Object.entries(e).map(e=>{let[s,l]=e;return(0,o.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 rounded border text-xs",style:{backgroundColor:l.pricing.color,borderColor:l.pricing.borderColor},children:[(0,o.jsx)("span",{className:"font-medium text-gray-800",children:l.name}),(0,o.jsxs)("span",{className:"font-bold text-gray-800",children:["\u20b9",t(l.pricing)]})]},s)})]})})})(),(0,o.jsx)("div",{className:"space-y-6",children:[{title:"Morning",startTime:540,endTime:720},{title:"Afternoon",startTime:720,endTime:1020},{title:"Evening",startTime:1020,endTime:1200}].map(e=>{const l=(e=>Object.keys(m).filter(t=>{const s=(0,a.yN)(t);return s>=e.startTime&&s<e.endTime}))(e);return 0===l.length?null:(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 border-b border-gray-200 pb-2",children:[e.title," (",l.length," slots available)"]}),(0,o.jsx)("div",{className:"grid grid-cols-4 gap-2 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6",children:l.map(e=>{var l,r,i;const c=(e=>t.includes(e)?"selected":m[e]||"available")(e),u=(0,a.FR)(e),x=(0,a.ZP)(e,d),b=(0,a.w0)(e),g=(0,a.ot)(e),h=null===(l=n.J.timePricing)||void 0===l?void 0:l.enabled,p=u&&(null===(r=n.J.timePricing)||void 0===r||null===(i=r.timeRanges[u])||void 0===i?void 0:i.displayName);return(0,o.jsxs)("div",{className:"relative group",children:[(0,o.jsx)("button",{onClick:()=>(e=>{if("available"!==m[e])return;let l;t.includes(e)?l=t.filter(t=>t!==e):0===t.length?l=[e]:t.some(t=>(0,a.nA)(t,e))?(l=[...t,e],l.sort((e,t)=>(0,a.yN)(e)-(0,a.yN)(t))):l=[e];s(l)})(e),disabled:"booked"===m[e],className:`\n                    w-full p-2 sm:p-3 text-xs sm:text-sm font-medium rounded-lg border-2 transition-all duration-200 relative\n                    ${"available"===c?"text-gray-700 hover:border-blue-500 hover:bg-blue-50":"selected"===c?"border-blue-500 bg-blue-500 text-white":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"}\n                  `,style:{backgroundColor:"available"===c&&h&&"transparent"!==b?b:"available"===c?"white":void 0,borderColor:"available"===c&&h&&"transparent"!==g?g:"selected"===c?"#3B82F6":void 0},title:h&&u&&p?`${p} - \u20b9${x}`:void 0,children:(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)("div",{children:e})})}),h&&u&&p&&"booked"!==c&&(0,o.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 whitespace-nowrap",children:[p,": \u20b9",x]})]},e)})})]},e.title)})}),t.length>0&&(0,o.jsxs)("div",{className:"mt-6 p-3 sm:p-4 bg-blue-50 rounded-lg",children:[(0,o.jsxs)("h4",{className:"font-medium text-blue-800 mb-2 text-sm sm:text-base",children:["Selected Continuous Slots (",t.length,")"]}),(0,o.jsx)("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:t.map((e,t)=>(0,o.jsx)("span",{className:"px-2 sm:px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs sm:text-sm font-medium",children:e},t))}),(0,o.jsxs)("p",{className:"text-xs sm:text-sm text-blue-600 mt-2",children:["Total: ",t.length," slot",1!==t.length?"s":""]})]}),(0,o.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,o.jsx)("h4",{className:"font-medium text-yellow-800 mb-2",children:"Selection Rules"}),(0,o.jsxs)("ul",{className:"text-sm text-yellow-700 space-y-1",children:[(0,o.jsx)("li",{children:"\u2022 You can select multiple continuous slots (e.g., 9:00 AM, 9:10 AM, 9:20 AM)"}),(0,o.jsx)("li",{children:"\u2022 Slots must be adjacent to each other"}),(0,o.jsx)("li",{children:"\u2022 Click a selected slot again to deselect it"}),(0,o.jsx)("li",{children:"\u2022 Selecting a non-adjacent slot will replace your current selection"}),(0,o.jsx)("li",{children:"\u2022 Booked slots are grayed out and unavailable"})]})]}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 pt-4",children:[(0,o.jsx)("button",{onClick:c,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm w-full sm:w-auto",children:"\u2190 Back"}),(0,o.jsx)("button",{onClick:()=>{t.length>0&&i()},disabled:0===t.length,className:`\n            px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors text-sm sm:text-base w-full sm:w-auto\n            ${t.length>0?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}\n          `,children:t.length>0?`Continue with ${t.length} slot${1!==t.length?"s":""}`:"Select at least one slot"})]})]})}}}]);
//# sourceMappingURL=429.4e26e656.chunk.js.map